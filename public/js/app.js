(self.webpackChunk=self.webpackChunk||[]).push([[773],{0:(e,t,r)=>{"use strict";var n=r(166),a={class:"flex flex-col h-full justify-between"},o={class:"flex items-center justify-items-center h-5/6 mt-12"};var s=function(e){return(0,n.dD)("data-v-204e7571"),e=e(),(0,n.Cn)(),e},i={class:"grid grid-cols-2 grid-rows-4 gap-x-6 gap-y-8"},u={class:"field-group"},l=s((function(){return(0,n._)("label",{class:"field-label"},"Name",-1)})),c={class:"field-group"},d=s((function(){return(0,n._)("label",{class:"field-label"},"Surname",-1)})),p={class:"field-group"},m=s((function(){return(0,n._)("label",{class:"field-label"},"Document",-1)})),f={class:"flex gap-4"},v=["value"],w={class:"field-group"},b={class:"field-group"},y=s((function(){return(0,n._)("label",{class:"field-label"},"Email",-1)})),g={class:"field-group col-start-1 col-end-2"},h=s((function(){return(0,n._)("label",{class:"field-label"},"Mobile",-1)})),x={class:"flex col-span-2 justify-self-end self-start"};var _=r(954),S=r(387);Object.keys(S.ZP).forEach((function(e){(0,_.aH)(e,S.ZP[e])})),(0,_.jQ)({generateMessage:function(e){return"The field ".concat(e.field," is invalid")}});const k={name:"PayerData",props:{payer:{type:Object,default:function(){}}},emits:["save-payer"],setup:function(e,t){var r=t.emit,n=["CC","CE","NIT","PPN","TI","RUT"],a=(0,_.cI)({validationSchema:{name:"required|min:1|max:80",surname:"required|min:1|max:80",documentType:"required|one_of:".concat(n),document:"required|alpha_num",email:"required|email",mobile:"required|numeric"},initialValues:e.payer}),o=a.handleSubmit,s=a.errors;return{documentTypes:n,name:(0,_.U$)("name").value,surname:(0,_.U$)("surname").value,documentType:(0,_.U$)("documentType").value,document:(0,_.U$)("document").value,email:(0,_.U$)("email").value,mobile:(0,_.U$)("mobile").value,errors:s,onSubmit:o((function(e){r("save-payer",e)}))}}};var j=r(379),C=r.n(j),D=r(697),P={insert:"head",singleton:!1};C()(D.Z,P);D.Z.locals;var q=r(744);const T=(0,q.Z)(k,[["render",function(e,t,r,a,o,s){return(0,n.wg)(),(0,n.iD)("div",i,[(0,n._)("div",u,[l,(0,n.wy)((0,n._)("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.name=e}),class:(0,n.C_)(["field-input",a.errors.name?"border-red-500":""]),type:"text",name:"name"},null,2),[[n.nr,a.name]]),(0,n.wy)((0,n._)("p",{class:"error-message"},(0,n.zw)(a.errors.name),513),[[n.F8,a.errors.name]])]),(0,n._)("div",c,[d,(0,n.wy)((0,n._)("input",{id:"surname","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.surname=e}),class:(0,n.C_)(["field-input",a.errors.surname?"border-red-500":""]),type:"text",name:"surname"},null,2),[[n.nr,a.surname]]),(0,n.wy)((0,n._)("p",{class:"error-message"},(0,n.zw)(a.errors.surname),513),[[n.F8,a.errors.surname]])]),(0,n._)("div",p,[m,(0,n._)("div",f,[(0,n.wy)((0,n._)("select",{id:"documentType","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.documentType=e}),class:(0,n.C_)(["field-label field-input",a.errors.documentType?"border-red-500":""])},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.documentTypes,(function(e){return(0,n.wg)(),(0,n.iD)("option",{key:e,value:e},(0,n.zw)(e),9,v)})),128))],2),[[n.bM,a.documentType]]),(0,n.wy)((0,n._)("input",{id:"document","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.document=e}),class:(0,n.C_)(["field-input",a.errors.document?"border-red-500":""]),type:"text",name:"document"},null,2),[[n.nr,a.document]])]),(0,n._)("div",w,[(0,n.wy)((0,n._)("p",{class:"error-message"},(0,n.zw)(a.errors.documentType),513),[[n.F8,a.errors.documentType]]),(0,n.wy)((0,n._)("p",{class:"error-message"},(0,n.zw)(a.errors.document),513),[[n.F8,a.errors.document]])])]),(0,n._)("div",b,[y,(0,n.wy)((0,n._)("input",{id:"email","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.email=e}),class:(0,n.C_)(["field-input",a.errors.email?"border-red-500":""]),type:"email",name:"email"},null,2),[[n.nr,a.email]]),(0,n.wy)((0,n._)("p",{class:"error-message"},(0,n.zw)(a.errors.email),513),[[n.F8,a.errors.email]])]),(0,n._)("div",g,[h,(0,n.wy)((0,n._)("input",{id:"mobile","onUpdate:modelValue":t[5]||(t[5]=function(e){return a.mobile=e}),class:(0,n.C_)(["field-input",a.errors.mobile?"border-red-500":""]),type:"text",name:"mobile"},null,2),[[n.nr,a.mobile]]),(0,n.wy)((0,n._)("p",{class:"error-message"},(0,n.zw)(a.errors.mobile),513),[[n.F8,a.errors.mobile]])]),(0,n._)("div",x,[(0,n._)("button",{class:"border px-8 py-3 bg-gray-500 rounded-lg hover:bg-gray-700 text-white",onClick:t[6]||(t[6]=function(){return a.onSubmit&&a.onSubmit.apply(a,arguments)})}," Next ")])])}],["__scopeId","data-v-204e7571"]]);var M={class:"grid gap-8 lg:grid-cols-2"},z=["onClick"],Z=["src"],U={class:"pr-8"};var F=r(757),O=r.n(F),E=r(669),H=r.n(E);function I(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}const B={getPaymentMethods:function(){var e,t=(e=O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H().get((r="paymentMethods",n=void 0,n=window.document.querySelector('meta[name="session"]').content,{paymentMethods:"/api/session/".concat(n,"/paymentMethods")}[r]),{headers:{Accept:"application/json",Authorization:"Bearer "+window.document.querySelector('meta[name="token"]').content}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}var r,n}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){I(o,n,a,s,i,"next",e)}function i(e){I(o,n,a,s,i,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}()};function V(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}const $={name:"PaymentMethods",emits:["select-payment-method"],setup:function(e,t){return(r=O().mark((function e(){var r,n,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){r("select-payment-method",e)},r=t.emit,e.next=4,B.getPaymentMethods();case 4:return n=e.sent,e.abrupt("return",{paymentMethods:n,select:a});case 6:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function s(e){V(o,n,a,s,i,"next",e)}function i(e){V(o,n,a,s,i,"throw",e)}s(void 0)}))})();var r}},L=(0,q.Z)($,[["render",function(e,t,r,a,o,s){return(0,n.wg)(),(0,n.iD)("div",M,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.paymentMethods,(function(e){return(0,n.wg)(),(0,n.iD)("div",{key:e.id,class:"bg-white p-6 flex gap-5 justify-between items-center rounded-lg shadow cursor-pointer",onClick:function(t){return a.select(e.id)}},[(0,n._)("img",{src:e.logo,alt:"logo",class:"h-16 my-6 mx-4"},null,8,Z),(0,n._)("h1",U,(0,n.zw)(e.name),1)],8,z)})),128))])}]]);var N={key:0},W=(0,n.Uk)(" Loading.. ");const R={name:"SuspenseComponent",setup:function(){var e=(0,n.iH)(null);return(0,n.d1)((function(t){e.value=t.message})),{suspenseError:e}}},Y=(0,q.Z)(R,[["render",function(e,t,r,a,o,s){return a.suspenseError?((0,n.wg)(),(0,n.iD)("div",N,(0,n.zw)(a.suspenseError),1)):((0,n.wg)(),(0,n.j4)(n.n4,{key:1},{default:(0,n.w5)((function(){return[(0,n.WI)(e.$slots,"default")]})),fallback:(0,n.w5)((function(){return[W]})),_:3}))}]]);var A={class:"grid grid-cols-2 items-baseline w-full"},J={key:1,href:"#",class:"p-2 my-8 justify-self-end col-start-2 underline text-gray-500 hover:text-blue-900"};var K=(0,n.iH)(1);function X(){K.value>1&&K.value--}function Q(){K.value<4&&K.value++}function G(e){return K.value===e}function ee(){return{step:K,stepBack:X,stepForward:Q,isStepEqual:G}}const te={name:"Footer",setup:function(){var e=ee();return{step:e.step,stepBack:e.stepBack}}},re={name:"Transaction",components:{PayerData:T,PaymentMethods:L,SuspenseComponent:Y,Footer:(0,q.Z)(te,[["render",function(e,t,r,a,o,s){return(0,n.wg)(),(0,n.iD)("div",A,[a.step>1?((0,n.wg)(),(0,n.iD)("button",{key:0,class:"bg-gray-500 text-white shadow py-3 px-12 my-8 rounded-lg justify-self-start hover:bg-gray-700",onClick:t[0]||(t[0]=function(){return a.stepBack&&a.stepBack.apply(a,arguments)})}," Back ")):(0,n.kq)("",!0),a.step<4?((0,n.wg)(),(0,n.iD)("a",J,"Do not want to continue")):(0,n.kq)("",!0)])}]])},setup:function(){var e=ee(),t=e.step,r=e.stepBack,a=e.stepForward,o=e.isStepEqual,s=(0,n.iH)({name:"",surname:"",documentType:"",document:"",email:"",mobile:""}),i=(0,n.iH)({});return{payer:s,step:t,stepBack:r,isStepEqual:o,savePayerData:function(e){s.value=e,a()},selectPaymentMethod:function(e){i.value=e,a()}}}},ne=(0,q.Z)(re,[["render",function(e,t,r,s,i,u){var l=(0,n.up)("PayerData"),c=(0,n.up)("PaymentMethods"),d=(0,n.up)("SuspenseComponent"),p=(0,n.up)("Footer");return(0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("div",o,[s.isStepEqual(1)?((0,n.wg)(),(0,n.j4)(l,{key:0,payer:s.payer,class:"mt-20",onSavePayer:s.savePayerData},null,8,["payer","onSavePayer"])):(0,n.kq)("",!0),(0,n.Wm)(d,null,{default:(0,n.w5)((function(){return[s.isStepEqual(2)?((0,n.wg)(),(0,n.j4)(c,{key:0,onSelectPaymentMethod:s.selectPaymentMethod},null,8,["onSelectPaymentMethod"])):(0,n.kq)("",!0)]})),_:1})]),(0,n.Wm)(p,{class:"h-1/6"})])}]]);var ae=function(e){return(0,n.dD)("data-v-fda68b26"),e=e(),(0,n.Cn)(),e},oe={class:"flex flex-col w-96 items-center"},se={class:"flex relative justify-between w-5/6 self-center"},ie=ae((function(){return(0,n._)("div",{class:"step-circle border-blue-900"}," 1 ",-1)})),ue={class:"absolute w-full self-center"},le=ae((function(){return(0,n._)("div",{class:"bar bg-blue-100 w-full"},null,-1)})),ce=ae((function(){return(0,n._)("div",{class:"flex relative justify-between w-full"},[(0,n._)("p",{class:"step-text"}," Fill in payer data "),(0,n._)("p",{class:"step-text"}," Select payment method "),(0,n._)("p",{class:"step-text"}," Insert card data ")],-1)}));const de={name:"Stepper",setup:function(){var e=ee().step;return{step:e,barLength:function(){return{step1:"w-1/4",step2:"w-3/4",step3:"w-full"}["step"+e.value]}}}};var pe=r(467),me={insert:"head",singleton:!1};C()(pe.Z,me);pe.Z.locals;const fe=(0,q.Z)(de,[["render",function(e,t,r,a,o,s){return(0,n.wg)(),(0,n.iD)("div",oe,[(0,n._)("div",se,[ie,(0,n._)("div",{class:(0,n.C_)(["step-circle",a.step<2?"border-blue-100":"border-blue-900"])}," 2 ",2),(0,n._)("div",{class:(0,n.C_)(["step-circle",a.step<3?"border-blue-100":"border-blue-900"])}," 3 ",2),(0,n._)("div",ue,[le,(0,n._)("div",{class:(0,n.C_)(["bar bg-blue-900 transition-bar",a.barLength()])},null,2)])]),ce])}],["__scopeId","data-v-fda68b26"]]);var ve={class:"flex flex-col justify-center px-10 2xl:flex-row"},we=(0,n._)("p",{class:"2xl:text-right"}," Session expires in: ",-1),be={class:"2xl:text-left px-1"};var ye=r(490);const ge={name:"Countdown",props:{expiration:{type:String,default:""}},emits:["expired"],setup:function(e,t){var r=t.emit,a=function(){var e=(0,n.iH)(new Date),t=setInterval((function(){e.value=new Date}),1e3);return(0,n.Jd)((function(){return clearInterval(t.value)})),{currentTime:e,intervalHandle:t}}(),o=a.currentTime,s=a.intervalHandle;function i(){var t=ye.ou.fromISO(e.expiration).diff(ye.ou.fromJSDate(o.value),["hours","minutes","seconds","milliseconds"]);return t<0?ye.nL.fromObject({hours:0,minutes:0,seconds:0}):t}var u=(0,n.qj)({hours:i().toObject().hours.toString().padStart(2,"0"),minutes:i().toObject().minutes.toString().padStart(2,"0"),seconds:i().toObject().seconds.toString().padStart(2,"0")});return(0,n.YP)((function(){return o.value}),(function(){i()<=0&&(r("expired"),clearInterval(s)),u.hours=i().toObject().hours.toString().padStart(2,"0"),u.minutes=i().toObject().minutes.toString().padStart(2,"0"),u.seconds=i().toObject().seconds.toString().padStart(2,"0")})),{remaining:u}}},he=(0,q.Z)(ge,[["render",function(e,t,r,a,o,s){return(0,n.wg)(),(0,n.iD)("div",ve,[we,(0,n._)("p",be,(0,n.zw)(a.remaining.hours)+":"+(0,n.zw)(a.remaining.minutes)+":"+(0,n.zw)(a.remaining.seconds),1)])}]]);r(333),(0,n.ri)({components:{Transaction:ne,Stepper:fe,Countdown:he}}).mount("#app")},333:(e,t,r)=>{window._=r(486),window.axios=r(669),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"},697:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(645),a=r.n(n)()((function(e){return e[1]}));a.push([e.id,".field-group[data-v-204e7571]{display:flex;flex-direction:column}.field-label[data-v-204e7571]{--tw-text-opacity:1;color:rgba(55,65,81,var(--tw-text-opacity))}.field-input[data-v-204e7571]{--tw-border-opacity:1;border-color:rgba(156,163,175,var(--tw-border-opacity));border-radius:.5rem}.error-message[data-v-204e7571]{--tw-text-opacity:1;color:rgba(239,68,68,var(--tw-text-opacity));padding-top:.25rem}",""]);const o=a},467:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(645),a=r.n(n)()((function(e){return e[1]}));a.push([e.id,".step-circle[data-v-fda68b26]{--tw-bg-opacity:1;--tw-shadow:0 1px 3px 0 rgba(0,0,0,0.1),0 1px 2px 0 rgba(0,0,0,0.06);align-items:center;background-color:rgba(255,255,255,var(--tw-bg-opacity));border-radius:9999px;border-width:4px;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);display:flex;font-weight:700;height:2.5rem;justify-content:center;transition:border-color .5s ease-in-out .1s;width:2.5rem;z-index:10}.step-text[data-v-fda68b26]{font-size:.875rem;line-height:1.25rem;padding:.25rem .5rem;text-align:center}.bar[data-v-fda68b26]{--tw-shadow:0 1px 3px 0 rgba(0,0,0,0.1),0 1px 2px 0 rgba(0,0,0,0.06);align-self:center;border-radius:9999px;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);height:.375rem;position:absolute;z-index:0}.transition-bar[data-v-fda68b26]{transition:width .5s ease-out}",""]);const o=a},584:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[170,898],(()=>(t(0),t(584))));e.O()}]);